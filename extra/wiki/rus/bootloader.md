LocalTrack предоставляет конечному пользователю возможность обновлять  
прошивку через USB с использованием DFU загрузчика. Для этого вам  
нужно будет установить специальное программное обеспечение на вашем ПК  
и подключить LocalTrack в этот же компьютер, перевести ваше устройство  
в режим DFU. Затем вы используете образ прошивки в формате DfuSe и с  
помощью этой специальной программы записать прошивку в память устройства.  
Последняя версия прошивки в DfuSe формате доступна в репозитории, в  
файле **/firmware/firmware_13nnn.dfu**, где nnn - число обозначающее  
версию прошивки (например, firmware_13001.dfu);  
  
Есть 2 способа перевести устройство в режим DFU. Если ваше устройство  
уже работает, вы можете попасть в режим DFU, добавив команду конфигурации  
"ENTER_DFU_MODE" в файл config.txt. Как только вы отключите LocalTrack  
от компьютера, а затем подключите его снова, устройство удалит config.txt  
и войдёт в режим DFU вместо обычного дискового режима. Чтобы выйти из  
из режима DFU, вам нужно отключить устройство от компьютера и отключить  
питание устройства используя переключатель.  
  
Если предыдущая прошивка на устройстве повреждена/не существует,  
вам придется выключить устройство с помощью переключателя, а затем  
Соединить вывод BOOT0 и линию 3,3 В. Для этого нужно будет снять  
крышку с устройства. Будьте осторожны, чтобы не повредить провода  
соединяющие плату с аккумулятором, установленным на крышке. На плате  
вы увидите 5-контактный разъём, где нужно будет соединить 2 контакта  
(с помощью перемычки или каких-либо других средств), которые являются  
самыми дальними от близлежащего винта. Затем подключите устройство  
через USB и оно сразу же войдет в режим DFU;  
  
---  
  
#### Процедура обновления через DFU на Linux (Debian)  
  
1. Установите утилиту dfu-util (sudo apt-get install dfu-util)  
2. Загрузите этот репозиторий (.zip) на свой компьютер и разархивируйте его  
3. Отключите питание устройства с помощью переключателя  
4. Подключите устройство к ПК через USB кабель  
5. Добавьте команду "ENTER_DFU_MODE" в файл config.txt  
6. Отключите устройство от компьютера  
7. Подождите 1-2 секунды и подключите снова  
8. Откройте окно терминала в папке /firmware/  
9. Запустите команду: dfu-util -a 0 -D firmware_13nnn.dfu  
10. Дождитесь завершения процесса обновления  
11. Отключите устройство от компьютера  
  
#### Процедура обновления через DFU на Windows  
  
1. Загрузите утилиту dfu-util c [официального сайта](https://sourceforge.net/projects/dfu-util/files/)  
2. Загрузите установщик USB драйверов [Zadig](https://zadig.akeo.ie/)  
3. Отключите питание устройства с помощью переключателя  
4. Подключите устройство к ПК через USB кабель  
5. Добавьте команду "ENTER_DFU_MODE" в файл config.txt  
6. Отключите устройство от компьютера  
7. Подождите 1-2 секунды и подключите снова  
8. Запустите Zadig, выберите устройство STM32 BOOTLOADER  
9. Используя Zadig, установите драйвер WinUSB для загрузчика  
10. Загрузите этот репозиторий (.zip) на свой компьютер и разархивируйте его  
11. Откройте окно терминала в папке /firmware/  
12. Запустите команду: DFUPATH\dfu-util.exe -a 0 -D .\firmware_13nnn.dfu  
13. Дождитесь завершения процесса обновления  
14. Отключите устройство от компьютера  
  
DFUPATH - это абсолютный адрес каталога в котором находится dfu-util.exe  
  